(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{170:function(t,e,a){t.exports=a.p+"assets/img/demo.7342f254.png"},178:function(t,e,a){"use strict";a.r(e);var s=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"documentation-and-mock-tools"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#documentation-and-mock-tools","aria-hidden":"true"}},[t._v("#")]),t._v(" Documentation and mock tools")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("ul",[s("li",[t._v("Api-shop provides an api interface online documentation and mock tool page based on vue and element-ui")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(170),alt:"An image"}})]),t._v(" "),s("h2",{attrs:{id:"configuring-document-route"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuring-document-route","aria-hidden":"true"}},[t._v("#")]),t._v(" Configuring document route")]),t._v(" "),s("ul",[s("li",[t._v("In the ApiShop component instance, there is a method render_documents(request, url)")]),t._v(" "),s("li",[t._v("In conjunction with it, there must be a get_api_data(request, url) method for the document to get the interface data.")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The flask example omits the conf configuration and introduces part of the code.")]),t._v("\naf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ApiShop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n@app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/<regex(\"([\\s\\S]*)\"):url>'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("methods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PUT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DELETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PATCH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello_world")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'documents/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Configured here is the route to access the document")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" af"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render_documents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'api_data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Here is the data interface required by the document.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" af"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_api_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" af"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api_entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"this-way-you-can-access-the-online-documentation-via-yourhost-api-documents-in-your-browser-and-give-it-to-your-front-end-team-members-which-can-reduce-unnecessary-communication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#this-way-you-can-access-the-online-documentation-via-yourhost-api-documents-in-your-browser-and-give-it-to-your-front-end-team-members-which-can-reduce-unnecessary-communication","aria-hidden":"true"}},[t._v("#")]),t._v(" This way, you can access the online documentation via "),s("code",[t._v("yourhost/api/documents/")]),t._v(" in your browser and give it to your front-end team members, which can reduce unnecessary communication.")]),t._v(" "),s("h4",{attrs:{id:"the-built-in-online-documentation-also-provides-a-simple-mock-tool-for-front-end-personnel-to-debug-the-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-built-in-online-documentation-also-provides-a-simple-mock-tool-for-front-end-personnel-to-debug-the-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" The built-in online documentation also provides a simple mock tool for front-end personnel to debug the interface.")]),t._v(" "),s("h2",{attrs:{id:"custom-document-template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#custom-document-template","aria-hidden":"true"}},[t._v("#")]),t._v(" Custom document template")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("ul",[s("li",[t._v("If you are not satisfied with the document style, you can write your own document template.")])])]),t._v(" "),s("h3",{attrs:{id:"document-page-business-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-page-business-process","aria-hidden":"true"}},[t._v("#")]),t._v(" Document page business process")]),t._v(" "),s("ol",[s("li",[t._v("After the page is loaded, please visit the api_data interface you configured to get all the interface data.")]),t._v(" "),s("li",[t._v("Render your page and configure the mock tool based on the interface packet")]),t._v(" "),s("li",[t._v("When the ApiShop is instantiated, write the actual path of the new document to the options.document project.")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'document'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" BASE_DIR "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/static/document.html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Please fill in the absolute path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}],n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},s,!1,null,null,null);e.default=o.exports}}]);